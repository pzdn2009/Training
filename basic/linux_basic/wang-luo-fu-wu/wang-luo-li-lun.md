# 网络理论

## 网络理论

IPV4地址分为ABCDE五类

私有IP地址

网络地址转化技术NAT

无类别跨网络路由CIDR，206.24.64.105/24

协议：TCP，IP，UDP，ICMP，PPP

## 相关配置文件

* /etc/hosts：IP地址与名称的映射，针对私人网络

  ```text
  pzdn@ubuntu:~$ cat /etc/hosts
  127.0.0.1    localhost
  127.0.1.1    ubuntu
  ```

* /etc/nsswitch.conf：命名服务查询。
* /etc/host.conf：

  ```text
  pzdn@ubuntu:~$ cat /etc/host.conf 
  # The "order" line is only used by old versions of the C library.
  order hosts,bind
  multi on
  ```

* /etc/resolv.conf：DNS服务器配置

  ```text
  pzdn@ubuntu:~$ cat /etc/resolv.conf 
  # Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
  #     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
  nameserver 127.0.1.1
  ```

* /etc/networks：地址与名称的映射，代表整个网络，以0结尾。

  ```text
  pzdn@ubuntu:~$ cat /etc/networks
  # symbolic names for networks, see networks(5) for more information
  link-local 169.254.0.0
  ```

## 桥接模式与NAT模式

### bridged networking（桥接模式）

在这种模式下，VMWare虚拟出来的操作系统就像是局域网中的一台独立的主机，它可以访问网内任何一台机器。在桥接模式下，你需要手工为虚拟系统配置IP地址、子网掩码，而且还要和宿主机器处于同一网段，这样虚拟系统才能和宿主机器进行通信。同时，配置好网关和DNS的地址后，以实现通过局域网的网关或路由器访问互联网。

### network address translation\(NAT模式\)

使用NAT模式，就是让虚拟系统借助NAT\(网络地址转换\)功能，通过宿主机器所在的网络来访问公网。也就是说，使用NAT模式可以实现在虚拟系统里访问互联网。NAT模式下的虚拟系统的TCP/IP配置信息是由VMnet8\(NAT\)虚拟网络的DHCP服务器提供的，无法进行手工修改，因此虚拟系统也就无法和本局域网中的其他真实主机进行通讯。采用NAT模式最大的优势是虚拟系统接入互联网非常简单，只需要宿主机器能访问互联网，你不需要配置IP地址，子网掩码，网关，但是DNS地址还是要根据实际情况填的。添加DNS地址除了在网卡属性中填写，还可以在虚拟机中的“虚拟网络编辑器”中的NAT选项卡中点击“编辑”按钮中来添加。

