#vim 编辑器

## 模式

**普通模式Normal Mode**

- 移动光标，删除文本

**插入模式Insert Mode**

- 普通模式下，按a（append）或i（insert）进入插入模式。
- 写入文本到文件中。
- 插入模式，按ESC进入普通模式。

**命令模式Command Mode**
- 执行命令
- : / ? !

**选择模式Select Mode**

- 可以用鼠标或者光标键高亮选择文本。

**可视模式Visual Mode**

- 用于高亮选择文本，高亮区域可以是_字符_、_行_或者是_块_文本。


## 跳转

**方向键控制**

h(left)j(down)k(up)l(right) 

**行间跳转**

- nG 跳转到第n行，命令模式设置:set nu 
- gg 移动到第一行
- G 移动到最后一行
- ctr + o 快速回到上一次跳转 

行内跳转

命令|	说明
--|--
w	|到下一个单词的开头
e	|到下一个单词的结尾
b	|到前一个单词的开头
ge	|到前一个单词的结尾
0或^	|到行头
$	|到行尾
f<字母>	|向后搜索<字母>并跳转到第一个匹配的位置(非常实用)
F<字母>	|向前搜索<字母>并跳转到第一个匹配的位置


## 插入、删除、复制、粘贴、撤销

重复执行：N < Command >

**进入插入模式**

命令	|说明
--|--
i	|在当前光标处进行编辑
I	|在行首插入
A	|在行末插入
a	|在光标后插入
o	|在当前行后插入一个新行
O	|在当前行前插入一个新行
cw	|替换从光标所在位置后到一个单词结尾的字符

**删除**

命令	|说明
--|--
x或Delete	|删除光标所在的字符
X	|删除光标所在的前一个字符
dd	|删除当前行
dw	|删除一个单词（不适用于中文）
d$或D	|删除至行尾
d^	|删除至行首
dG	|删除至文档结尾处
d1G	|删除至文档首部


**复制**

命令	|说明
--|--
yy	|复制整行，3yy表示复制3行
y^	|复制至行首。
y$	|复制至行尾。
yw	|复制一个单词
y2w	|复制两个单词
yG	|复制至文末
y1G	|复制至文本开头


**粘贴**

命令	|说明
--|--
p	|粘贴至光标后
P	|粘贴至光标前


ddp交换两行

**替换和撤销**

命令	|说明
--|--
u{n}	|撤销一次或n次操作
U	|撤销当前行的所有操作
Ctr+r	|redo
~	|反转游标所在字母大小写
cw	|替换一个单词，删除一个单词，并进入插入模式
cc	|替换整行，即删除光标所在行，并进入插入模式
C	|替换光标至行尾
r+<字母>	|将光标所在的字母替换为<字母>
R	|连续替换，直到按下ESC


## 命令

**退出vim**

命令	|说明
--|--
:q!	|强制退出，不保存
:q	|退出
:wq!	|强制保存并退出
:w <文件名>	|另存为
:saveas |文件路径	另存为
:x	|保存并退出
:wq	|保存并退出

**缩进**

- \>\> 向右缩进 
- << 向左缩进
- :set shiftwidth? 获取 
- :set shiftwidth=10 设置


**文本位置**

- :ce
- :ri
- :le

**查找**

- / 字符串 向后查找 
- n 下一个
- ? 字符串 向前查找
- N 上一个

# 块选择

**字符选择**

在普通模式下输入v，进入字符选择模式，就可以移动光标，光标走过的地方就会选取。再次按下v会后就会取消选取。

**行选择**

在普通模式下输入Shift+v，进入行选择模式，按下V之后就会把整行选取，您可以上下移动光标选更多的行，同样，再按一次Shift+v就可以取消选取。

**矩形区域选择**

在普通模式下输入 Ctrl+v，这是区域选择模式，可以进行矩形区域选择，再按一次Ctrl+v取消选取。

**删除和复制**

在普通模式下输入d删除选取区域内容
在普通模式下输入y复制选取区域内容

#环境设置

~/.viminfo：记录了vim的操作历史，vim自动创建。
~/.vimrc：配置文件，可以为当前用户做一个全局地配置。

常用配置
```
vim ~/.vimrc
set all #查看全部配置
set nu #设置行号
set hlsearch #高亮泛白
set autoindent #自动缩进
set backspace=2 #可随时用backspace进行删除
set ruler #可显示最后一行的状态
set showmode #左下角那一行的状态
set tabstop=4 #tab缩进的字符数
```

**窗口拆分**

vim内的翻页：ctr+f，PageUp | ctr+b，PageDown。

窗口拆分解决大文件比对。
```
:sp{filename}，可以使用tab补全，即可对已有文件或者新文件进行拆分
窗口切换命令：
Ctr+w+j ，切换到下一个窗口。先按ctr,w，放开w，再按j或者down。
Ctr+w+k ，切换到上一个窗口。同上方式。
:q，退出当前窗口 k
```

**文档加密**
```
vim -x file1 #进入加密模式，提示输入密码
:w newfileName #另存为一个加密文件，下次打开的时候就需要输入密码
```

多文件编辑

```
vim 1.txt 2.txt #同时打开多个文件
:n #换到下一个文件
:N #换到上一个文件
:ls #列出文件
:files #列出文件
```

