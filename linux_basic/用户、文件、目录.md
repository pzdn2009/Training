# 用户、文件、目录

## User & Group

查看用户

```
who am i 
whoami
```

创建用户
```
sudo adduser username
ls /home #view the newuser's home
su -l username #switch to the new user.
```

删除用户
```
sudo deluser username --remove-home
```

查看用户组
```
groups pzdn
```

## 文件、目录

**文件权限——drwxrwxrwx**

第一位表示文件类型，d directory ,- file ,l link,b block device,c charset device,s socket,p pipline。

r:read,w:write,x:execute。

修改文件所有者
```
sudo chown username filename
```

修改文件权限
```
chmod 700 myfile #改为rdx------
chmod go-rw myfile #去除rw权限，group,user,other,+-
```

**目录**

```
tree / #显示目录树
```

绝对路径以/开头；相对路径：.为当前目录，..上级目录，省略了/默认从当前目录开始

```
pwd #当前工作路径
cd ..
cd ~ 
```

**基本操作**

新建文件
```
touch test
```

新建目录
```
mkdir mydir
mkdir -p father/son/grandson #创建parent路径
```

复制文件
```
cp test father/son/grandson
```

复制目录
```
cp -r father family #r递归
```

删除文件
```
rm test
rm -f test #f强制
```

删除目录
```
rm -r family
```

移动文件
```
mv file1 Documents
```

重命名文件
```
mv file1 myfile
rename ‘s/\.txt/\.c/’ *.txt
rename ‘y/a-z/A-Z/’ *.c
```

查看文件
```
cp /etd/passwd .
cat passwd
cat -n passwd #n行数
nl -b a file
more passwd
less passwd
tail /etc/passwd
tail -n 1 /etc/passwd
```

查看文件类型
```
file /bin/ls
```

**文件打包与压缩**

打包就是把若干文件或文件夹放到一个tar文件中，但是不会压缩文件大小。

压缩就是在打包的基础上压缩文件的大小。

zip压缩
```
zip -r -q -o shiyanlou.zip /home/shiyanlou
du -h shiyanlou.zip
file shiyanlou.zip

zip -r -9 -q -o shiyanlou_9.zip /home/shiyanlou -x ~/*.zip
zip -r -1 -q -o shiyanlou_1.zip /home/shiyanlou -x ~/*.zip
zip -r -e -o shiyanlou_encryption.zip /home/shiyanlou
zip -r -l -o shiyanlou.zip /home/shiyanlou
```

参数解释：r递归，q静默， o输出，9最大压缩级别，1最小压缩级别，e加密，x排除，l兼容Windows系统

unzip
```
unzip shiyanlou.zip
unzip -q shiyanlou.zip -d ziptest
unzip -l shiyanlou.zip #只查看内容，不解压
unzip -O GBK 中文压缩文件.zip
```

rar
```
rar a shiyanlou.rar .  #
rar d shiyanlou.rar .zshrc #d 删除其中的文件
rar l shiyanlou.rar #l 列出

unrar x shiyanlou.rar

mkdir tmp
unrar e shiyanlou.rar tmp/ 
```
tar
```
tar -cf shiyanlou.tar ~ #将当前目录打包到shiyanlou.rar

mkdir tardir
tar -xf shiyanlou.tar -C tardir #解包
tar -tf shiyanlou.tar #查看包
tar -czf shiyanlou.tar.gz ~ #指定压缩方式
tar -xzf shiyanlou.tar.gz #指定解压方式
```
参数解释：c创建一个打包文件，f指定文件名，v可视化，x解包，C已存在的目录，t只查看不解包，z使用GZip来压缩文件。